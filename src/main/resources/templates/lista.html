<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Lista</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/webjars/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css}">
    </head>
    <body>
        <!-- MODAL -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Exclusão</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Esta ação não poderá ser desfeita, deseja realmente <strong>excluir</strong> este colaborador ?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-outline-danger">Excluir</button>
                    </div>
                </div>
            </div>
        </div>
        <main>
            <div class="container">
                <div th:replace="fragments/fragment :: cabecalho"></div>
                <h4>Filtro</h4>
                <table class="table table-hover table-dark" style="box-shadow: 5px 5px 5px black">
                    <div class="input-group mb-3">
                        <form method="GET" th:action="@{/buscarNome}">
                            <input type="text" maxlength="45" th:name="nome" class="form-control" placeholder="Buscar por nomes...">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="submit">Buscar <i class="bi bi-search"></i></button>
                            </div>
                        </form>
                    </div>
                    <div class="input-group mb-3">
                        <form method="GET" th:action="@{/buscarCpf}">
                            <input type="text" maxlength="14" th:name="cpf" class="form-control" placeholder="Buscar por CPFs...">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="submit">Buscar <i class="bi bi-search"></i></button>
                            </div>
                        </form>
                    </div>
                    <div class="input-group mb-3">
                        <form method="GET" th:action="@{/buscarAlimento}">
                            <input type="text" maxlength="45" th:name="alimento" class="form-control" placeholder="Buscar por alimentos...">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="submit">Buscar <i class="bi bi-search"></i></button>
                            </div>
                        </form>
                    </div>
                    <br>
                    <h3>Colaboradores</h3>
                    <div th:replace="fragments/alert"></div>
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nome</th>
                            <th scope="col">CPF</th>
                            <th scope="col">Alimento</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr scope="row" th:each="pessoa : ${pessoas}">
                            <td th:text="${pessoa.id}"></td>
                            <td th:text="${pessoa.nome}"></td>
                            <td th:text="${pessoa.cpf}"></td>
                            <td th:text="${pessoa.alimento}"></td>
                            <td>
                                <a th:href="@{alterar/{id}(id=${pessoa.id})}" style="color: goldenrod;"><i class="bi bi-pencil-square"></i></a>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <a th:href="@{excluir/{id}(id=${pessoa.id})}" style="color: tomato;" type="button" data-toggle="modal" data-target="#exampleModal"><i class="bi bi-trash-fill"></i></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <br><br><br>
                <div th:replace="fragments/fragment :: rodape"></div>
            </div>
        </main>
        <script src="/webjars/jquery/3.5.1/jquery.min.js"></script>
        <script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    </body>
</html>
